---
layout: post
title: "GitHub　PagesとJekyllを使った告発Webサイトの構築とインターネット公開"
date: 2018-03-27 16:00:30 +0900
categories:  インターネットの情報公開
tags:  GitHub Jekyll
---

　書面の作成の方は、かなりの日数中断をしていたと思いますが、ようやく理想的な情報管理と情報公開のパソコン環境、インターネット環境を整えることが出来ました。それがタイトルにあるGitHub　PagesとJekyllの組み合わせです。

　JekyllはRubyというプログラム言語を使って静的Webサイトを生成するものです。同じRubyで動的Webサイトを運用するものにRailsがあるのですが、データベースを使った開発は１０年以上前からやっていました。

　自分のローカルのパソコン環境だと、今でもデータベースを活用していますが、インターネット上のサービスの利用となるとレンタルサーバーの費用に投資をすることも出来ないので、ずっと前にRailsでの運用は断念をしていました。２００９年頃のことになります。

　年間5千円台で利用しているレンタルサーバーで、一通りRailsの環境を整えたのですが、ほぼ自分だけで開発のためのアクセスを繰り返していると、それだけでも負荷がかかりエラーが出てRailsのサーバーが落ちてしまうことがありました。

　ずっと前から負荷に弱いレンタルサーバー以外に、htmlの使えるWeb環境が欲しかったのですが、2009年頃までは色々と試したものの、長期的な管理とデータの保守に満足の出来るネットサービスはありませんでした。

　GitHubを理解するためには、Gitの理解から始める必要があるので、経験がないと全体像をイメージするのも難しいと思いますし、ご説明をするのも困難です。しかし、出来上がったGitHub　Pagesのサイトをご覧いただければ、他のブログサービスとの違いを実感して頂けると思います。

　JekyllもRails同様、Webサーバーの環境を持っています。ブラウザの利用はWebページやTwitter、Facebookと同じになりますが、通常のWebサーバーが使う80番ポートとは別に、Jekyllの場合は4000番ポートを使って読み込むことになります。

<blockquote>
プレーンテキストから静的な Web サイトやブログを作成しましょう。

※ Jekyllの最新内容を知りたい場合は 本家サイト(jekyllrb.com) を参照してください。翻訳に関する質問/要望は本家ではなく jekyllrb-jaのIssues へお願いします。
シンプル

データベース、コメント管理、やっかいなアップデートのインストールは不要です。 — あなたのコンテンツに集中できます。
基本的な使い方 →
静的

Markdown (または Textile)、 Liquid や HTML & CSS が使われます。 すぐにデプロイできる静的サイトを生成します。
Jekyll テンプレートガイド →

Markdown (or Textile), Liquid, HTML & CS Jekyll template guide →

[source:] ／引用元：／ Jekyll • シンプルで、ブログのような、静的サイト https://jekyllrb-ja.github.io/
</blockquote>

　上記がJekyllのホームページのようです。私がJekyllを使うようになったのは、つい最近のことです。まだ一週間は経っていないと思います。静的Webサイトのジェネレーターとして似たようなものを使ったことはあったのですが、7年ぐらい前のことになると思います。

　それもRubyではなくpythonというプログラム言語のパッケージだったようにも思います。Jekyllのというパッケージ名には、多少見覚えがあったのですが、色々と沢山あるので、よさげに紹介されているものでも、名前を見ただけで終わるものが多いぐらいです。

　先日ちょっとしたことがきっかけで、それもTwilogで調べないとはっきり思い出せない記憶となっているのですが、Jekyllを使った開発に挑戦することになったのです。

　まず丸2日ぐらいは、Jekyllをローカル環境で動かすだけで手間取りました。動かすことは出来てもテーマの適用に難儀しました。Railsのときに経験したことですが、パッケージのバージョンの組み合わせでもエラーが出て動かないことがあります。

　パッケージのバージョンもそれぞれ細かいので、ネットで参考にする情報が古ければ、まったく使い物にならないことが普通にあります。

[link:]  Dependency versions | GitHub Pages https://pages.github.com/versions/

　最終的な解決方法は他にあったので、どこまで効果的だったのかわかりませんが、上記のホームページには、GitHub　Pagesで使われるパッケージのバージョンが一覧で書いてあります。Rubyのバージョンは2.4.2となっています。

　UbuntuのRubyの標準でインストールされるバージョンは、現在、2.3.3となっていました。バージョンのことなるRubyを使う方法はあるのですが、面倒でややこしい作業です。
　
　以前、Windowsパソコンの環境でRailsなどやっていたころは、もっと面倒で、長期的なメンテナンスも困難なものでした。それはパソコン環境の保守に限らず、取り扱うデータの管理にも同様のことを繰り返してきたところです。

　Jekyllで取り扱うデータは、テキストデータで、Markdownという書式が使えます。拡張子をmdとしたファイルですが、これを自動でhtmlに変換し、公開用に配置してくれるのがJekyllの基本的仕組みです。動的サイト構築でのデプロイに当たるのだと思います。

　GitHubは、設定でGitHub　Pagesを使えるようにしておく必要がありますが、GitでPushした時点で、デプロイが自動で行われるようです。

　ここまで書いた時点で、GitHubへのPushを行いたいと思います。



